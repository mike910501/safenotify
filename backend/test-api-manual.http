### GUÍA DE TESTING MANUAL - SafeNotify Enhanced API
### Usar en VS Code con extensión REST Client o copiar a Postman

### ============================================
### FASE 1: AUTENTICACIÓN
### ============================================

### 1. Login para obtener token
POST http://localhost:3001/api/auth/login
Content-Type: application/json

{
  "email": "tu_email@example.com",
  "password": "tu_password"
}

### Copia el token de la respuesta y úsalo en las siguientes requests

### ============================================
### FASE 2: TESTING QUEUE SYSTEM
### ============================================

### 2. Verificar estadísticas de cola
GET http://localhost:3001/api/campaigns/queue/stats
Authorization: Bearer TU_TOKEN_AQUI

### 3. Obtener templates disponibles
GET http://localhost:3001/api/templates-ai/approved
Authorization: Bearer TU_TOKEN_AQUI

### ============================================
### FASE 3: TESTING CAMPAIGN CREATION (QUEUE)
### ============================================

### 4. Crear campaña con CSV (MAIN TEST)
POST http://localhost:3001/api/campaigns/create
Authorization: Bearer TU_TOKEN_AQUI
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="name"

Test Campaign Manual
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="templateSid"

TU_TEMPLATE_SID_AQUI
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="defaultValues"

{"empresa": "Mi Clínica", "servicio": "Consulta"}
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="csvFile"; filename="test.csv"
Content-Type: text/csv

nombre,telefono,hora
Juan Pérez,+573001234567,10:00 AM
María García,+573002345678,11:30 AM
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### ============================================
### FASE 4: MONITORING & PROGRESS
### ============================================

### 5. Obtener progreso de campaña específica
GET http://localhost:3001/api/campaigns/progress/CAMPAIGN_ID_AQUI
Authorization: Bearer TU_TOKEN_AQUI

### 6. Obtener historial de campañas
GET http://localhost:3001/api/campaigns
Authorization: Bearer TU_TOKEN_AQUI

### 7. Verificar estadísticas de cola después del envío
GET http://localhost:3001/api/campaigns/queue/stats
Authorization: Bearer TU_TOKEN_AQUI