"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[690],{3863:function(e,r,s){s.d(r,{Y:function(){return l}});var a=s(7437),t=s(4508);let n={pulse:"animate-pulse-fast",spin:"animate-spin-slow",bounce:"animate-bounce-subtle",none:""};function l(e){let{icon:r,animation:s="none",className:l,size:o=24,...i}=e;return(0,a.jsx)(r,{size:o,className:(0,t.cn)("transition-all duration-300",n[s],l),...i})}},1252:function(e,r,s){s.d(r,{z:function(){return d}});var a=s(7437),t=s(2265),n=s(535),l=s(4508);let o={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function i(e){let{size:r="md",className:s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-spin",o[r],s),children:(0,a.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",className:"opacity-25"}),(0,a.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"opacity-75"})]})})}let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98] btn-hover-lift",{variants:{variant:{primary:"bg-primary text-white hover:bg-primary-600 shadow-lg hover:shadow-xl active:shadow-md",secondary:"bg-secondary text-white hover:bg-secondary-600 shadow-lg hover:shadow-xl active:shadow-md",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white shadow-md hover:shadow-lg",ghost:"text-primary hover:bg-primary/10 hover:text-primary-700",danger:"bg-danger text-white hover:bg-danger-600 shadow-lg hover:shadow-xl active:shadow-md"},size:{sm:"h-9 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-11 px-6 text-base",xl:"h-12 px-8 text-lg"}},defaultVariants:{variant:"primary",size:"md"}}),d=(0,t.forwardRef)((e,r)=>{let{className:s,variant:t,size:n,loading:o,children:d,disabled:u,...m}=e;return(0,a.jsxs)("button",{className:(0,l.cn)(c({variant:t,size:n,className:s})),ref:r,disabled:u||o,...m,children:[o&&(0,a.jsx)(i,{size:"sm",className:"mr-2"}),d]})});d.displayName="Button"},6070:function(e,r,s){s.d(r,{Zb:function(){return i}});var a=s(7437),t=s(2265),n=s(535),l=s(4508);let o=(0,n.j)("rounded-xl border bg-white text-gray-900 shadow-sm transition-all duration-300",{variants:{hover:{true:"card-hover cursor-pointer",false:""},padding:{none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"}},defaultVariants:{hover:!1,padding:"md"}}),i=(0,t.forwardRef)((e,r)=>{let{className:s,hover:t,padding:n,children:i,...c}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)(o({hover:t,padding:n,className:s})),...c,children:i})});i.displayName="Card",(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5",s),...t})}).displayName="CardHeader",(0,t.forwardRef)((e,r)=>{let{className:s,children:t,...n}=e;return(0,a.jsx)("h3",{ref:r,className:(0,l.cn)("text-xl font-semibold leading-none tracking-tight",s),...n,children:t})}).displayName="CardTitle",(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-gray-600",s),...t})}).displayName="CardDescription",(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("pt-0",s),...t})}).displayName="CardContent",(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center pt-0",s),...t})}).displayName="CardFooter"},7381:function(e,r,s){s.d(r,{o:function(){return u}});var a=s(7437),t=s(9376),n=s(1239),l=s(8617),o=s(6858),i=s(525),c=s(1252),d=s(6070);function u(e){let{variant:r="card",currentPlan:s="free",messagesUsed:u=0,messagesLimit:m=10,className:h="",size:x="md",showProgress:p=!1,urgent:g=!1}=e,f=(0,t.useRouter)(),b=m>0?u/m*100:0,j=b>=80,v=u>=m,w=(e=>{switch(e){case"free":default:return{name:"B\xe1sico",price:"$25,000"};case"basic":return{name:"Pro",price:"$50,000"};case"pro":return{name:"Enterprise",price:"$100,000"}}})(s);return"banner"===r?(0,a.jsxs)("div",{className:"".concat(v?"bg-red-50 border-red-200":"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200"," border rounded-lg p-4 mb-6 ").concat(h),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[v?(0,a.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"w-5 h-5 text-red-600"})}):(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold ".concat(v?"text-red-900":"text-gray-900"),children:v?"\xa1Sin mensajes disponibles!":j?"\xa1Quedan pocos mensajes!":"\xa1Potencia tu comunicaci\xf3n!"}),(0,a.jsx)("p",{className:"text-sm ".concat(v?"text-red-700":"text-gray-600"),children:v?"Has usado todos tus ".concat(m," mensajes del plan ").concat((e=>{switch(e){case"free":default:return"Gratuito";case"basic":return"B\xe1sico";case"pro":return"Pro";case"enterprise":return"Enterprise"}})(s)):j?"Has usado ".concat(u," de ").concat(m," mensajes"):"Upgrade al plan ".concat(w.name," y obt\xe9n m\xe1s mensajes")})]})]}),(0,a.jsxs)(c.z,{onClick:()=>f.push("/dashboard/upgrade"),className:v?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700",size:"sm",children:[v?"Comprar Plan":"Ver Planes",(0,a.jsx)(o.Z,{className:"w-4 h-4 ml-1"})]})]}),p&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[(0,a.jsx)("span",{children:"Mensajes usados"}),(0,a.jsxs)("span",{children:[u,"/",m]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(v?"bg-red-500":j?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(b,100),"%")}})})]})]}):"sidebar"===r?(0,a.jsx)("div",{className:"bg-gradient-to-br from-purple-500 to-blue-600 text-white rounded-lg p-4 ".concat(h),children:(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"Mejora tu Plan"}),(0,a.jsxs)("p",{className:"text-xs text-purple-100 mt-1",children:["Plan ",w.name," desde ",w.price]})]}),(0,a.jsx)(c.z,{onClick:()=>f.push("/dashboard/upgrade"),size:"sm",variant:"secondary",className:"w-full bg-white text-purple-600 hover:bg-gray-100 text-xs py-1.5",children:"Ver Planes"})]})}):"inline"===r?(0,a.jsxs)("div",{className:"inline-flex items-center space-x-2 ".concat(h),children:[v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-red-600 text-sm font-medium",children:"Sin mensajes"}),(0,a.jsx)(c.z,{onClick:()=>f.push("/dashboard/upgrade"),size:"sm",className:"bg-red-600 hover:bg-red-700 text-xs px-3 py-1",children:"Comprar Plan"})]}),!v&&j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-yellow-600 text-sm",children:"Pocos mensajes restantes"}),(0,a.jsx)(c.z,{onClick:()=>f.push("/dashboard/upgrade"),size:"sm",variant:"outline",className:"text-xs px-3 py-1",children:"Upgrade"})]})]}):(0,a.jsx)(d.Zb,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-200 ".concat(h),padding:"lg",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(l.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-2",children:v?"\xa1Sin mensajes disponibles!":j?"Quedan pocos mensajes":"Potencia tu comunicaci\xf3n"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:v?"Actualiza tu plan para continuar enviando mensajes":"Upgrade al plan ".concat(w.name," y obt\xe9n m\xe1s mensajes por solo ").concat(w.price,"/mes")})]}),p&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[(0,a.jsx)("span",{children:"Uso actual"}),(0,a.jsxs)("span",{children:[u,"/",m]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(v?"bg-red-500":j?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(b,100),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[b.toFixed(0),"% utilizado"]})]}),(0,a.jsxs)(c.z,{onClick:()=>f.push("/dashboard/upgrade"),className:"w-full ".concat(v?"bg-red-600 hover:bg-red-700":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700"),size:x,children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),v?"Comprar Plan Ahora":"Ver Todos los Planes",(0,a.jsx)(o.Z,{className:"w-4 h-4 ml-2"})]})]})})}},6362:function(e,r,s){s.d(r,{a:function(){return n}});var a=s(2265),t=s(9376);function n(){let[e,r]=(0,a.useState)({user:null,loading:!0,error:null}),s=(0,t.useRouter)(),n=(0,a.useCallback)(async()=>{try{let e=localStorage.getItem("token");if(!e)return r({user:null,loading:!1,error:null}),!1;let s=await fetch("".concat("http://localhost:3005","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(e)},credentials:"include"});if(!s.ok)throw Error("Token inv\xe1lido");let a=await s.json();if(a.success)return r({user:a.user,loading:!1,error:null}),localStorage.setItem("user",JSON.stringify(a.user)),!0;throw Error(a.error||"Error de autenticaci\xf3n")}catch(e){return console.error("Error verificando autenticaci\xf3n:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),r({user:null,loading:!1,error:e instanceof Error?e.message:"Error de autenticaci\xf3n"}),!1}},[]),l=async(e,s)=>{r(e=>({...e,loading:!0,error:null}));try{let a=await fetch("".concat("http://localhost:3005","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:s})}),t=await a.json();if(t.success)return localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),r({user:t.user,loading:!1,error:null}),{success:!0};return r(e=>({...e,loading:!1,error:t.error||"Error al iniciar sesi\xf3n"})),{success:!1,error:t.error}}catch(s){let e="Error de conexi\xf3n. Por favor intente nuevamente.";return r(r=>({...r,loading:!1,error:e})),{success:!1,error:e}}},o=async(e,s,a)=>{r(e=>({...e,loading:!0,error:null}));try{let t=await fetch("".concat("http://localhost:3005","/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e,email:s,password:a})}),n=await t.json();if(n.success)return localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),r({user:n.user,loading:!1,error:null}),{success:!0};return r(e=>({...e,loading:!1,error:n.error||"Error al registrar usuario"})),{success:!1,error:n.error}}catch(s){let e="Error de conexi\xf3n. Por favor intente nuevamente.";return r(r=>({...r,loading:!1,error:e})),{success:!1,error:e}}},i=(0,a.useCallback)(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r({user:null,loading:!1,error:null}),s.push("/login")},[s]);return(0,a.useEffect)(()=>{n()},[n]),(0,a.useEffect)(()=>{if(e.user){let e=setInterval(()=>{n()},3e5);return()=>clearInterval(e)}},[e.user,n]),{user:e.user,loading:e.loading,error:e.error,isAuthenticated:!!e.user,login:l,register:o,logout:i,checkAuth:n}}},4508:function(e,r,s){s.d(r,{cn:function(){return n}});var a=s(1994),t=s(3335);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.m6)((0,a.W)(r))}}}]);