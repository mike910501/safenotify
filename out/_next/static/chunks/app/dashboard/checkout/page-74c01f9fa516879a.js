(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{73651:function(e,a,r){Promise.resolve().then(r.bind(r,79643))},79643:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return P}});var s=r(57437),t=r(2265),n=r(99376),i=r(8530),l=r(88226),c=r(79205);let o=(0,c.Z)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var d=r(33388),m=r(32660);let u=(0,c.Z)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var x=r(66337),h=r(76865);let p=(0,c.Z)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var g=r(33245),f=r(41671);let y=(0,c.Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var v=r(53417),j=r(31047),b=r(91723),N=r(10407),w=r(88906),k=r(56426),Z=r(66070),S=r(76362);function C(){let{user:e}=(0,S.a)(),a=(0,n.useRouter)(),r=(0,n.useSearchParams)().get("plan"),[c,C]=(0,t.useState)(null),[P,M]=(0,t.useState)("CARD"),[E,z]=(0,t.useState)(!0),[I,T]=(0,t.useState)(!1),[A,O]=(0,t.useState)(""),[R,V]=(0,t.useState)(!1),[D,q]=(0,t.useState)(null),[_,B]=(0,t.useState)({name:(null==e?void 0:e.name)||"",phone:"",email:(null==e?void 0:e.email)||"",acceptance_token:""}),J=[{id:"CARD",name:"Tarjeta de Cr\xe9dito/D\xe9bito",icon:l.Z,description:"Visa, Mastercard, American Express, Diners",available:!0,badge:"M\xe1s usado"},{id:"PSE",name:"Transferencia Bancaria PSE",icon:o,description:"Pago seguro desde tu banco",available:!0,badge:"Instant\xe1neo"},{id:"NEQUI",name:"Nequi",icon:d.Z,description:"Pago r\xe1pido con tu celular",available:!0,badge:"Popular"}];(0,t.useEffect)(()=>{if(!r){a.push("/dashboard/upgrade");return}L(),F()},[r]);let L=async()=>{try{let e=localStorage.getItem("token"),a=await fetch("".concat(i.T,"/api/payments/plans"),{headers:{Authorization:"Bearer ".concat(e)}}),s=await a.json();if(s.success&&s.plans[r]){let e=s.plans[r];C({name:H(r),price:e.price,messages:e.messages,duration:e.duration})}}catch(e){console.error("Error fetching plan:",e)}finally{z(!1)}},F=async()=>{try{let e=localStorage.getItem("token"),a=await fetch("".concat(i.T,"/api/payments/wompi/acceptance-token"),{headers:{Authorization:"Bearer ".concat(e)}}),r=await a.json();r.success&&B(e=>({...e,acceptance_token:r.acceptance_token}))}catch(e){console.error("Error fetching acceptance token:",e)}},H=e=>{switch(e){case"basic":return"Plan B\xe1sico";case"pro":return"Plan Profesional";case"enterprise":return"Plan Empresarial";default:return"Plan"}},U=e=>{switch(e){case"basic":return"from-blue-500 to-cyan-500";case"pro":return"from-purple-500 to-pink-500";case"enterprise":return"from-amber-500 to-orange-500";default:return"from-gray-500 to-gray-600"}},W=async()=>{if(!R){O("Debes aceptar los t\xe9rminos y condiciones para continuar");return}if(!_.name||!_.phone){O("Por favor completa todos los campos requeridos");return}T(!0),O("");try{let e=localStorage.getItem("token"),a=await fetch("".concat(i.T,"/api/payments/create-transaction"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({planType:r,paymentMethod:"CHECKOUT",customerData:_})}),s=await a.json();s.success&&s.checkoutUrl?window.location.href=s.checkoutUrl:O(s.error||"Error al procesar el pago")}catch(e){console.error("Error processing payment:",e),O("Error de conexi\xf3n. Por favor intenta nuevamente.")}finally{T(!1)}},G=e=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return E?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 p-6",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-8",children:[(0,s.jsx)("div",{className:"h-10 bg-gray-200 rounded-lg w-48"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2 h-[600px] bg-gray-200 rounded-2xl"}),(0,s.jsx)("div",{className:"h-[600px] bg-gray-200 rounded-2xl"})]})]})})}):c?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(k.z,{variant:"ghost",size:"sm",onClick:()=>a.push("/dashboard/upgrade"),className:"mb-4 hover:bg-gray-100 transition-colors",children:[(0,s.jsx)(m.Z,{size:16,className:"mr-2"}),"Cambiar plan"]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Finalizar compra"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Completa tu informaci\xf3n para activar tu plan"})]}),(0,s.jsxs)("div",{className:"hidden lg:flex items-center space-x-6",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(u,{className:"w-5 h-5 text-green-500 mr-2"}),"Pago 100% seguro"]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 text-blue-500 mr-2"}),"Encriptaci\xf3n SSL"]})]})]})]}),A&&(0,s.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(h.Z,{className:"w-5 h-5 text-red-500 mt-0.5 mr-3 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-red-800 font-medium",children:"Error en el proceso"}),(0,s.jsx)("p",{className:"text-red-700 text-sm mt-1",children:A})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)(Z.Zb,{className:"bg-white overflow-hidden",padding:"none",children:[(0,s.jsx)("div",{className:"h-1 bg-gradient-to-r ".concat(U(r))}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center mr-3",children:(0,s.jsx)("span",{className:"text-primary-600 font-bold",children:"1"})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Informaci\xf3n personal"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo *"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"text",value:_.name,onChange:e=>B(a=>({...a,name:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-gray-900",placeholder:"Juan P\xe9rez"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono m\xf3vil *"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"tel",value:_.phone,onChange:e=>B(a=>({...a,phone:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-gray-900",placeholder:"300 123 4567"})})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electr\xf3nico"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"email",value:_.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 text-gray-600"}),(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)(p,{className:"w-5 h-5 text-green-500"})})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Usaremos este correo para enviarte la confirmaci\xf3n"})]})]})]})]}),(0,s.jsxs)(Z.Zb,{className:"bg-white overflow-hidden",padding:"none",children:[(0,s.jsx)("div",{className:"h-1 bg-gradient-to-r ".concat(U(r))}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center mr-3",children:(0,s.jsx)("span",{className:"text-primary-600 font-bold",children:"2"})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"M\xe9todo de pago"})]}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-blue-900 font-medium mb-1",children:"Pago 100% seguro con Wompi"}),(0,s.jsx)("p",{className:"text-xs text-blue-800",children:"Ser\xe1s redirigido a la plataforma certificada de Wompi para completar tu pago de forma segura"})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:J.map(e=>(0,s.jsxs)("div",{className:"\n                        relative rounded-xl border-2 p-4 cursor-pointer transition-all\n                        ".concat(P===e.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:shadow-sm","\n                      "),onClick:()=>M(e.id),onMouseEnter:()=>q(e.id),onMouseLeave:()=>q(null),children:[e.badge&&(0,s.jsx)("div",{className:"absolute -top-2 -right-2",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-gradient-to-r from-primary-500 to-purple-500 text-white text-xs rounded-full font-medium",children:e.badge})}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-center space-y-2",children:[(0,s.jsx)("div",{className:"\n                          w-12 h-12 rounded-xl flex items-center justify-center transition-colors\n                          ".concat(P===e.id?"bg-primary-100":"bg-gray-100","\n                        "),children:(0,s.jsx)(e.icon,{className:"\n                            w-6 h-6 \n                            ".concat(P===e.id?"text-primary-600":"text-gray-600","\n                          ")})}),(0,s.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]}),P===e.id&&(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)(f.Z,{className:"w-5 h-5 text-primary-500"})})]},e.id))}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600",children:[(0,s.jsx)("img",{src:"/api/placeholder/60/20",alt:"Visa",className:"h-5"}),(0,s.jsx)("img",{src:"/api/placeholder/60/20",alt:"Mastercard",className:"h-5"}),(0,s.jsx)("img",{src:"/api/placeholder/60/20",alt:"PSE",className:"h-5"}),(0,s.jsx)("span",{className:"font-medium",children:"y m\xe1s..."})]})})]})]}),(0,s.jsx)(Z.Zb,{className:"bg-white",padding:"lg",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"terms",checked:R,onChange:e=>V(e.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 cursor-pointer"}),(0,s.jsxs)("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-relaxed cursor-pointer",children:["Acepto los"," ",(0,s.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"t\xe9rminos y condiciones"})," ","y autorizo el tratamiento de mis datos seg\xfan la"," ",(0,s.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"pol\xedtica de privacidad"}),". Entiendo que mis datos ser\xe1n eliminados autom\xe1ticamente despu\xe9s de cada env\xedo de mensajes."]})]})})]}),(0,s.jsxs)("div",{className:"lg:sticky lg:top-8 space-y-6 h-fit",children:[(0,s.jsxs)(Z.Zb,{className:"bg-white overflow-hidden shadow-xl",padding:"none",children:[(0,s.jsxs)("div",{className:"p-6 bg-gradient-to-r ".concat(U(r)," text-white"),children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Resumen de tu compra"}),(0,s.jsxs)("p",{className:"text-sm opacity-90",children:["Plan ",c.name.replace("Plan ","")]})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,s.jsx)(y,{className:"w-4 h-4 mr-2"}),"Plan seleccionado"]}),(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:c.name})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Mensajes incluidos"]}),(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:c.messages.toLocaleString("es-CO")})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Vigencia"]}),(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:[c.duration," d\xedas"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,s.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Activaci\xf3n"]}),(0,s.jsx)("span",{className:"font-semibold text-green-600",children:"Inmediata"})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,s.jsx)("span",{className:"text-gray-900",children:G(c.price)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"IVA incluido"}),(0,s.jsx)("span",{className:"text-gray-900",children:"$0"})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"Total a pagar"}),(0,s.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:G(c.price)})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"*Precio final en pesos colombianos"})]})]}),(0,s.jsx)(k.z,{onClick:W,disabled:I||!R||!_.name||!_.phone,className:"\n                    w-full py-6 text-base font-semibold rounded-xl\n                    bg-gradient-to-r ".concat(U(r),"\n                    hover:shadow-lg transition-all duration-300\n                    disabled:opacity-50 disabled:cursor-not-allowed\n                    transform hover:scale-[1.02] active:scale-[0.98]\n                  "),children:I?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-3"}),"Procesando..."]}):(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 mr-2"}),"Pagar de forma segura",(0,s.jsx)(N.Z,{className:"w-5 h-5 ml-2"})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-4 pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,s.jsx)(u,{className:"w-4 h-4 text-green-500 mr-1"}),"Pago seguro"]}),(0,s.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 text-blue-500 mr-1"}),"256-bit SSL"]})]})]})]}),(0,s.jsx)(Z.Zb,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",padding:"md",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(w.Z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-green-900 mb-1",children:"Garant\xeda de satisfacci\xf3n"}),(0,s.jsx)("p",{className:"text-xs text-green-800 leading-relaxed",children:"Si no est\xe1s satisfecho con tu plan, puedes cancelar en cualquier momento sin penalizaciones."})]})]})})]})]})]})}):null}function P(){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 p-6",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-8",children:[(0,s.jsx)("div",{className:"h-10 bg-gray-200 rounded-lg w-48"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2 h-[600px] bg-gray-200 rounded-2xl"}),(0,s.jsx)("div",{className:"h-[600px] bg-gray-200 rounded-2xl"})]})]})})}),children:(0,s.jsx)(C,{})})}},56426:function(e,a,r){"use strict";r.d(a,{z:function(){return d}});var s=r(57437),t=r(2265),n=r(90535),i=r(94508);let l={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function c(e){let{size:a="md",className:r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("animate-spin",l[a],r),children:(0,s.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",className:"opacity-25"}),(0,s.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"opacity-75"})]})})}let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98] btn-hover-lift",{variants:{variant:{primary:"bg-primary text-white hover:bg-primary-600 shadow-lg hover:shadow-xl active:shadow-md",secondary:"bg-secondary text-white hover:bg-secondary-600 shadow-lg hover:shadow-xl active:shadow-md",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white shadow-md hover:shadow-lg",ghost:"text-primary hover:bg-primary/10 hover:text-primary-700",danger:"bg-danger text-white hover:bg-danger-600 shadow-lg hover:shadow-xl active:shadow-md"},size:{sm:"h-9 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-11 px-6 text-base",xl:"h-12 px-8 text-lg"}},defaultVariants:{variant:"primary",size:"md"}}),d=(0,t.forwardRef)((e,a)=>{let{className:r,variant:t,size:n,loading:l,children:d,disabled:m,...u}=e;return(0,s.jsxs)("button",{className:(0,i.cn)(o({variant:t,size:n,className:r})),ref:a,disabled:m||l,...u,children:[l&&(0,s.jsx)(c,{size:"sm",className:"mr-2"}),d]})});d.displayName="Button"},66070:function(e,a,r){"use strict";r.d(a,{Zb:function(){return c}});var s=r(57437),t=r(2265),n=r(90535),i=r(94508);let l=(0,n.j)("rounded-xl border bg-white text-gray-900 shadow-sm transition-all duration-300",{variants:{hover:{true:"card-hover cursor-pointer",false:""},padding:{none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"}},defaultVariants:{hover:!1,padding:"md"}}),c=(0,t.forwardRef)((e,a)=>{let{className:r,hover:t,padding:n,children:c,...o}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)(l({hover:t,padding:n,className:r})),...o,children:c})});c.displayName="Card",(0,t.forwardRef)((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5",r),...t})}).displayName="CardHeader",(0,t.forwardRef)((e,a)=>{let{className:r,children:t,...n}=e;return(0,s.jsx)("h3",{ref:a,className:(0,i.cn)("text-xl font-semibold leading-none tracking-tight",r),...n,children:t})}).displayName="CardTitle",(0,t.forwardRef)((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-gray-600",r),...t})}).displayName="CardDescription",(0,t.forwardRef)((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("pt-0",r),...t})}).displayName="CardContent",(0,t.forwardRef)((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center pt-0",r),...t})}).displayName="CardFooter"},76362:function(e,a,r){"use strict";r.d(a,{a:function(){return n}});var s=r(2265),t=r(99376);function n(){let[e,a]=(0,s.useState)({user:null,loading:!0,error:null}),r=(0,t.useRouter)(),n=(0,s.useCallback)(async()=>{try{let e=localStorage.getItem("token");if(!e)return a({user:null,loading:!1,error:null}),!1;let r=await fetch("".concat("http://localhost:3005","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(e)},credentials:"include"});if(!r.ok)throw Error("Token inv\xe1lido");let s=await r.json();if(s.success)return a({user:s.user,loading:!1,error:null}),localStorage.setItem("user",JSON.stringify(s.user)),!0;throw Error(s.error||"Error de autenticaci\xf3n")}catch(e){return console.error("Error verificando autenticaci\xf3n:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),a({user:null,loading:!1,error:e instanceof Error?e.message:"Error de autenticaci\xf3n"}),!1}},[]),i=async(e,r)=>{a(e=>({...e,loading:!0,error:null}));try{let s=await fetch("".concat("http://localhost:3005","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:r})}),t=await s.json();if(t.success)return localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),a({user:t.user,loading:!1,error:null}),{success:!0};return a(e=>({...e,loading:!1,error:t.error||"Error al iniciar sesi\xf3n"})),{success:!1,error:t.error}}catch(r){let e="Error de conexi\xf3n. Por favor intente nuevamente.";return a(a=>({...a,loading:!1,error:e})),{success:!1,error:e}}},l=async(e,r,s)=>{a(e=>({...e,loading:!0,error:null}));try{let t=await fetch("".concat("http://localhost:3005","/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e,email:r,password:s})}),n=await t.json();if(n.success)return localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),a({user:n.user,loading:!1,error:null}),{success:!0};return a(e=>({...e,loading:!1,error:n.error||"Error al registrar usuario"})),{success:!1,error:n.error}}catch(r){let e="Error de conexi\xf3n. Por favor intente nuevamente.";return a(a=>({...a,loading:!1,error:e})),{success:!1,error:e}}},c=(0,s.useCallback)(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a({user:null,loading:!1,error:null}),r.push("/login")},[r]);return(0,s.useEffect)(()=>{n()},[n]),(0,s.useEffect)(()=>{if(e.user){let e=setInterval(()=>{n()},3e5);return()=>clearInterval(e)}},[e.user,n]),{user:e.user,loading:e.loading,error:e.error,isAuthenticated:!!e.user,login:i,register:l,logout:c,checkAuth:n}}},8530:function(e,a,r){"use strict";r.d(a,{T:function(){return s}});let s="http://localhost:3005"},94508:function(e,a,r){"use strict";r.d(a,{cn:function(){return n}});var s=r(61994),t=r(53335);function n(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,t.m6)((0,s.W)(a))}},32660:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},31047:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},10407:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},41671:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91723:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},88226:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},33245:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},66337:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},53417:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},88906:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},33388:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},76865:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},99376:function(e,a,r){"use strict";var s=r(35475);r.o(s,"usePathname")&&r.d(a,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(a,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(a,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[14,971,117,744],function(){return e(e.s=73651)}),_N_E=e.O()}]);