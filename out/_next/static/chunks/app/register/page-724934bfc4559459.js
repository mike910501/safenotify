(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{6136:function(e,r,t){Promise.resolve().then(t.bind(t,585))},585:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return j}});var s=t(7437),a=t(2265),l=t(9376),n=t(7648),i=t(3417),o=t(1671),c=t(9322),d=t(2369),u=t(9345),m=t(6337),x=t(7769),h=t(2208);let p=(0,t(9205).Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var f=t(2023),g=t(8906),y=t(6426),v=t(6070),b=t(6362);function j(){let e=(0,l.useRouter)(),{isAuthenticated:r,loading:t,register:j}=(0,b.a)(),[N,w]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:""}),[k,Z]=(0,a.useState)(!1),[z,C]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[I,P]=(0,a.useState)(""),[M,R]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!t&&r&&e.push("/dashboard")},[r,t,e]);let q=()=>N.password.length<6?(P("La contrase\xf1a debe tener al menos 6 caracteres"),!1):N.password===N.confirmPassword||(P("Las contrase\xf1as no coinciden"),!1),O=async r=>{if(r.preventDefault(),P(""),q()){E(!0);try{let r=await j(N.name,N.email,N.password);r.success?(R(!0),setTimeout(()=>{e.push("/dashboard")},2e3)):P(r.error||"Error al registrar usuario")}catch(e){P("Error de conexi\xf3n. Por favor intente nuevamente.")}finally{E(!1)}}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"text-white",size:32})})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"SafeNotify"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Cree su cuenta gratuita"})]}),(0,s.jsx)(v.Zb,{className:"bg-white shadow-xl",padding:"lg",children:(0,s.jsxs)("form",{onSubmit:O,className:"space-y-5",children:[M&&(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start space-x-2",children:[(0,s.jsx)(o.Z,{size:20,className:"flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"\xa1Registro exitoso!"}),(0,s.jsx)("p",{className:"text-sm",children:"Redirigiendo al dashboard..."})]})]}),I&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start space-x-2",children:[(0,s.jsx)(c.Z,{size:20,className:"flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm",children:I})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:N.name,onChange:e=>w({...N,name:e.target.value}),className:"w-full px-4 py-3 pl-11 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900",placeholder:"Juan P\xe9rez",required:!0}),(0,s.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electr\xf3nico"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"email",value:N.email,onChange:e=>w({...N,email:e.target.value}),className:"w-full px-4 py-3 pl-11 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900",placeholder:"su@email.com",required:!0}),(0,s.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:k?"text":"password",value:N.password,onChange:e=>w({...N,password:e.target.value}),className:"w-full px-4 py-3 pl-11 pr-11 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900",placeholder:"M\xednimo 6 caracteres",required:!0,minLength:6}),(0,s.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,s.jsx)("button",{type:"button",onClick:()=>Z(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k?(0,s.jsx)(x.Z,{size:20}):(0,s.jsx)(h.Z,{size:20})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar contrase\xf1a"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:z?"text":"password",value:N.confirmPassword,onChange:e=>w({...N,confirmPassword:e.target.value}),className:"w-full px-4 py-3 pl-11 pr-11 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900",placeholder:"Repita la contrase\xf1a",required:!0}),(0,s.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,s.jsx)("button",{type:"button",onClick:()=>C(!z),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:z?(0,s.jsx)(x.Z,{size:20}):(0,s.jsx)(h.Z,{size:20})})]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:["Al registrarse, acepta nuestros"," ",(0,s.jsx)(n.default,{href:"/terms",className:"text-purple-600 hover:text-purple-700",children:"T\xe9rminos de Servicio"})," ","y"," ",(0,s.jsx)(n.default,{href:"/privacy",className:"text-purple-600 hover:text-purple-700",children:"Pol\xedtica de Privacidad"})]}),(0,s.jsx)(y.z,{type:"submit",size:"lg",className:"w-full gradient-primary",disabled:S||M,children:S?(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creando cuenta..."]}):M?(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(o.Z,{className:"mr-2",size:20}),"\xa1Cuenta creada!"]}):(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(p,{className:"mr-2",size:20}),"Crear Cuenta Gratuita"]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"\xbfYa tiene cuenta?"})})]}),(0,s.jsx)(n.default,{href:"/login",children:(0,s.jsx)(y.z,{type:"button",size:"lg",variant:"outline",className:"w-full",children:"Iniciar Sesi\xf3n"})})]})}),(0,s.jsx)(v.Zb,{className:"mt-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",padding:"md",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(f.Z,{className:"text-purple-600",size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-purple-900",children:"Plan Gratuito Incluye:"}),(0,s.jsx)("p",{className:"text-sm text-purple-700",children:"10 mensajes gratis para probar el servicio"})]})]})}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(g.Z,{className:"mx-auto text-gray-400 mb-2",size:20}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Datos encriptados"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Z,{className:"mx-auto text-gray-400 mb-2",size:20}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Sin tarjeta de cr\xe9dito"})]})]})]})})}},6426:function(e,r,t){"use strict";t.d(r,{z:function(){return d}});var s=t(7437),a=t(2265),l=t(535),n=t(4508);let i={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function o(e){let{size:r="md",className:t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("animate-spin",i[r],t),children:(0,s.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",className:"opacity-25"}),(0,s.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"opacity-75"})]})})}let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98] btn-hover-lift",{variants:{variant:{primary:"bg-primary text-white hover:bg-primary-600 shadow-lg hover:shadow-xl active:shadow-md",secondary:"bg-secondary text-white hover:bg-secondary-600 shadow-lg hover:shadow-xl active:shadow-md",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white shadow-md hover:shadow-lg",ghost:"text-primary hover:bg-primary/10 hover:text-primary-700",danger:"bg-danger text-white hover:bg-danger-600 shadow-lg hover:shadow-xl active:shadow-md"},size:{sm:"h-9 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-11 px-6 text-base",xl:"h-12 px-8 text-lg"}},defaultVariants:{variant:"primary",size:"md"}}),d=(0,a.forwardRef)((e,r)=>{let{className:t,variant:a,size:l,loading:i,children:d,disabled:u,...m}=e;return(0,s.jsxs)("button",{className:(0,n.cn)(c({variant:a,size:l,className:t})),ref:r,disabled:u||i,...m,children:[i&&(0,s.jsx)(o,{size:"sm",className:"mr-2"}),d]})});d.displayName="Button"},6070:function(e,r,t){"use strict";t.d(r,{Zb:function(){return o}});var s=t(7437),a=t(2265),l=t(535),n=t(4508);let i=(0,l.j)("rounded-xl border bg-white text-gray-900 shadow-sm transition-all duration-300",{variants:{hover:{true:"card-hover cursor-pointer",false:""},padding:{none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"}},defaultVariants:{hover:!1,padding:"md"}}),o=(0,a.forwardRef)((e,r)=>{let{className:t,hover:a,padding:l,children:o,...c}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)(i({hover:a,padding:l,className:t})),...c,children:o})});o.displayName="Card",(0,a.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5",t),...a})}).displayName="CardHeader",(0,a.forwardRef)((e,r)=>{let{className:t,children:a,...l}=e;return(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("text-xl font-semibold leading-none tracking-tight",t),...l,children:a})}).displayName="CardTitle",(0,a.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-gray-600",t),...a})}).displayName="CardDescription",(0,a.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("pt-0",t),...a})}).displayName="CardContent",(0,a.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center pt-0",t),...a})}).displayName="CardFooter"},6362:function(e,r,t){"use strict";t.d(r,{a:function(){return l}});var s=t(2265),a=t(9376);function l(){let[e,r]=(0,s.useState)({user:null,loading:!0,error:null}),t=(0,a.useRouter)(),l=(0,s.useCallback)(async()=>{try{let e=localStorage.getItem("token");if(!e)return r({user:null,loading:!1,error:null}),!1;let t=await fetch("http://localhost:3005/api/auth/me",{headers:{Authorization:"Bearer ".concat(e)},credentials:"include"});if(!t.ok)throw Error("Token inv\xe1lido");let s=await t.json();if(s.success)return r({user:s.user,loading:!1,error:null}),localStorage.setItem("user",JSON.stringify(s.user)),!0;throw Error(s.error||"Error de autenticaci\xf3n")}catch(e){return console.error("Error verificando autenticaci\xf3n:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),r({user:null,loading:!1,error:e instanceof Error?e.message:"Error de autenticaci\xf3n"}),!1}},[]),n=async(e,t)=>{r(e=>({...e,loading:!0,error:null}));try{let s=await fetch("http://localhost:3005/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})}),a=await s.json();if(a.success)return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),r({user:a.user,loading:!1,error:null}),{success:!0};return r(e=>({...e,loading:!1,error:a.error||"Error al iniciar sesi\xf3n"})),{success:!1,error:a.error}}catch(t){let e="Error de conexi\xf3n. Por favor intente nuevamente.";return r(r=>({...r,loading:!1,error:e})),{success:!1,error:e}}},i=async(e,t,s)=>{r(e=>({...e,loading:!0,error:null}));try{let a=await fetch("http://localhost:3005/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e,email:t,password:s})}),l=await a.json();if(l.success)return localStorage.setItem("token",l.token),localStorage.setItem("user",JSON.stringify(l.user)),r({user:l.user,loading:!1,error:null}),{success:!0};return r(e=>({...e,loading:!1,error:l.error||"Error al registrar usuario"})),{success:!1,error:l.error}}catch(t){let e="Error de conexi\xf3n. Por favor intente nuevamente.";return r(r=>({...r,loading:!1,error:e})),{success:!1,error:e}}},o=(0,s.useCallback)(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r({user:null,loading:!1,error:null}),t.push("/login")},[t]);return(0,s.useEffect)(()=>{l()},[l]),(0,s.useEffect)(()=>{if(e.user){let e=setInterval(()=>{l()},3e5);return()=>clearInterval(e)}},[e.user,l]),{user:e.user,loading:e.loading,error:e.error,isAuthenticated:!!e.user,login:n,register:i,logout:o,checkAuth:l}}},4508:function(e,r,t){"use strict";t.d(r,{cn:function(){return l}});var s=t(1994),a=t(3335);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}},9322:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7769:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2208:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6337:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9345:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},2023:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},2369:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[14,976,971,117,744],function(){return e(e.s=6136)}),_N_E=e.O()}]);